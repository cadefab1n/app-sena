{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":60,"index":112}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":181},"end":{"line":4,"column":69,"index":250}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/admin/_layout.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AdminLayout;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[4], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[5], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function AdminLayout() {\n    const router = (0, _expoRouter.useRouter)();\n    const segments = (0, _expoRouter.useSegments)();\n    const [isChecking, setIsChecking] = (0, _react.useState)(true);\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const authToken = await AsyncStorage.default.getItem('admin_authenticated');\n        const loginTime = await AsyncStorage.default.getItem('admin_login_time');\n        if (authToken === 'true' && loginTime) {\n          // Check if session is still valid (24 hours)\n          const loginDate = new Date(loginTime);\n          const now = new Date();\n          const diffHours = (now.getTime() - loginDate.getTime()) / (1000 * 60 * 60);\n          if (diffHours < 24) {\n            setIsAuthenticated(true);\n          } else {\n            // Session expired\n            await AsyncStorage.default.removeItem('admin_authenticated');\n            await AsyncStorage.default.removeItem('admin_login_time');\n            router.replace('/admin-login');\n          }\n        } else {\n          router.replace('/admin-login');\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        router.replace('/admin-login');\n      } finally {\n        setIsChecking(false);\n      }\n    };\n    if (isChecking) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.loadingContainer,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#ffea07\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this);\n    }\n    if (!isAuthenticated) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n      screenOptions: {\n        headerShown: false,\n        animation: 'slide_from_right'\n      },\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"categories\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n        name: \"qrcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    loadingContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#000'\n    }\n  });\n});","lineCount":123,"map":[[13,2,6,15,"Object"],[13,8,6,15],[13,9,6,15,"defineProperty"],[13,23,6,15],[13,24,6,15,"exports"],[13,31,6,15],[14,4,6,15,"enumerable"],[14,14,6,15],[15,4,6,15,"get"],[15,7,6,15],[15,18,6,15,"get"],[15,19,6,15],[16,6,6,15],[16,13,6,15,"AdminLayout"],[16,24,6,15],[17,4,6,15],[18,2,6,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,2,0],[20,6,2,0,"_expoRouter"],[20,17,2,0],[20,20,2,0,"require"],[20,27,2,0],[20,28,2,0,"_dependencyMap"],[20,42,2,0],[21,2,2,60],[21,6,2,60,"_reactNativeWebDistExportsView"],[21,36,2,60],[21,39,2,60,"require"],[21,46,2,60],[21,47,2,60,"_dependencyMap"],[21,61,2,60],[22,2,2,60],[22,6,2,60,"View"],[22,10,2,60],[22,13,2,60,"_interopDefault"],[22,28,2,60],[22,29,2,60,"_reactNativeWebDistExportsView"],[22,59,2,60],[23,2,2,60],[23,6,2,60,"_reactNativeWebDistExportsActivityIndicator"],[23,49,2,60],[23,52,2,60,"require"],[23,59,2,60],[23,60,2,60,"_dependencyMap"],[23,74,2,60],[24,2,2,60],[24,6,2,60,"ActivityIndicator"],[24,23,2,60],[24,26,2,60,"_interopDefault"],[24,41,2,60],[24,42,2,60,"_reactNativeWebDistExportsActivityIndicator"],[24,85,2,60],[25,2,2,60],[25,6,2,60,"_reactNativeWebDistExportsStyleSheet"],[25,42,2,60],[25,45,2,60,"require"],[25,52,2,60],[25,53,2,60,"_dependencyMap"],[25,67,2,60],[26,2,2,60],[26,6,2,60,"StyleSheet"],[26,16,2,60],[26,19,2,60,"_interopDefault"],[26,34,2,60],[26,35,2,60,"_reactNativeWebDistExportsStyleSheet"],[26,71,2,60],[27,2,4,0],[27,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[27,42,4,0],[27,45,4,0,"require"],[27,52,4,0],[27,53,4,0,"_dependencyMap"],[27,67,4,0],[28,2,4,0],[28,6,4,0,"AsyncStorage"],[28,18,4,0],[28,21,4,0,"_interopDefault"],[28,36,4,0],[28,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,73,4,0],[29,2,4,69],[29,6,4,69,"_reactJsxDevRuntime"],[29,25,4,69],[29,28,4,69,"require"],[29,35,4,69],[29,36,4,69,"_dependencyMap"],[29,50,4,69],[30,2,6,15],[30,11,6,24,"AdminLayout"],[30,22,6,35,"AdminLayout"],[30,23,6,35],[30,25,6,38],[31,4,7,2],[31,10,7,8,"router"],[31,16,7,14],[31,19,7,17],[31,23,7,17,"useRouter"],[31,34,7,26],[31,35,7,26,"useRouter"],[31,44,7,26],[31,46,7,27],[31,47,7,28],[32,4,8,2],[32,10,8,8,"segments"],[32,18,8,16],[32,21,8,19],[32,25,8,19,"useSegments"],[32,36,8,30],[32,37,8,30,"useSegments"],[32,48,8,30],[32,50,8,31],[32,51,8,32],[33,4,9,2],[33,10,9,8],[33,11,9,9,"isChecking"],[33,21,9,19],[33,23,9,21,"setIsChecking"],[33,36,9,34],[33,37,9,35],[33,40,9,38],[33,44,9,38,"useState"],[33,50,9,46],[33,51,9,46,"useState"],[33,59,9,46],[33,61,9,47],[33,65,9,51],[33,66,9,52],[34,4,10,2],[34,10,10,8],[34,11,10,9,"isAuthenticated"],[34,26,10,24],[34,28,10,26,"setIsAuthenticated"],[34,46,10,44],[34,47,10,45],[34,50,10,48],[34,54,10,48,"useState"],[34,60,10,56],[34,61,10,56,"useState"],[34,69,10,56],[34,71,10,57],[34,76,10,62],[34,77,10,63],[35,4,12,2],[35,8,12,2,"useEffect"],[35,14,12,11],[35,15,12,11,"useEffect"],[35,24,12,11],[35,26,12,12],[35,32,12,18],[36,6,13,4,"checkAuth"],[36,15,13,13],[36,16,13,14],[36,17,13,15],[37,4,14,2],[37,5,14,3],[37,7,14,5],[37,9,14,7],[37,10,14,8],[38,4,16,2],[38,10,16,8,"checkAuth"],[38,19,16,17],[38,22,16,20],[38,28,16,20,"checkAuth"],[38,29,16,20],[38,34,16,32],[39,6,17,4],[39,10,17,8],[40,8,18,6],[40,14,18,12,"authToken"],[40,23,18,21],[40,26,18,24],[40,32,18,30,"AsyncStorage"],[40,44,18,42],[40,45,18,42,"default"],[40,52,18,42],[40,53,18,43,"getItem"],[40,60,18,50],[40,61,18,51],[40,82,18,72],[40,83,18,73],[41,8,19,6],[41,14,19,12,"loginTime"],[41,23,19,21],[41,26,19,24],[41,32,19,30,"AsyncStorage"],[41,44,19,42],[41,45,19,42,"default"],[41,52,19,42],[41,53,19,43,"getItem"],[41,60,19,50],[41,61,19,51],[41,79,19,69],[41,80,19,70],[42,8,21,6],[42,12,21,10,"authToken"],[42,21,21,19],[42,26,21,24],[42,32,21,30],[42,36,21,34,"loginTime"],[42,45,21,43],[42,47,21,45],[43,10,22,8],[44,10,23,8],[44,16,23,14,"loginDate"],[44,25,23,23],[44,28,23,26],[44,32,23,30,"Date"],[44,36,23,34],[44,37,23,35,"loginTime"],[44,46,23,44],[44,47,23,45],[45,10,24,8],[45,16,24,14,"now"],[45,19,24,17],[45,22,24,20],[45,26,24,24,"Date"],[45,30,24,28],[45,31,24,29],[45,32,24,30],[46,10,25,8],[46,16,25,14,"diffHours"],[46,25,25,23],[46,28,25,26],[46,29,25,27,"now"],[46,32,25,30],[46,33,25,31,"getTime"],[46,40,25,38],[46,41,25,39],[46,42,25,40],[46,45,25,43,"loginDate"],[46,54,25,52],[46,55,25,53,"getTime"],[46,62,25,60],[46,63,25,61],[46,64,25,62],[46,69,25,67],[46,73,25,71],[46,76,25,74],[46,78,25,76],[46,81,25,79],[46,83,25,81],[46,84,25,82],[47,10,27,8],[47,14,27,12,"diffHours"],[47,23,27,21],[47,26,27,24],[47,28,27,26],[47,30,27,28],[48,12,28,10,"setIsAuthenticated"],[48,30,28,28],[48,31,28,29],[48,35,28,33],[48,36,28,34],[49,10,29,8],[49,11,29,9],[49,17,29,15],[50,12,30,10],[51,12,31,10],[51,18,31,16,"AsyncStorage"],[51,30,31,28],[51,31,31,28,"default"],[51,38,31,28],[51,39,31,29,"removeItem"],[51,49,31,39],[51,50,31,40],[51,71,31,61],[51,72,31,62],[52,12,32,10],[52,18,32,16,"AsyncStorage"],[52,30,32,28],[52,31,32,28,"default"],[52,38,32,28],[52,39,32,29,"removeItem"],[52,49,32,39],[52,50,32,40],[52,68,32,58],[52,69,32,59],[53,12,33,10,"router"],[53,18,33,16],[53,19,33,17,"replace"],[53,26,33,24],[53,27,33,25],[53,41,33,39],[53,42,33,40],[54,10,34,8],[55,8,35,6],[55,9,35,7],[55,15,35,13],[56,10,36,8,"router"],[56,16,36,14],[56,17,36,15,"replace"],[56,24,36,22],[56,25,36,23],[56,39,36,37],[56,40,36,38],[57,8,37,6],[58,6,38,4],[58,7,38,5],[58,8,38,6],[58,15,38,13,"error"],[58,20,38,18],[58,22,38,20],[59,8,39,6,"console"],[59,15,39,13],[59,16,39,14,"error"],[59,21,39,19],[59,22,39,20],[59,41,39,39],[59,43,39,41,"error"],[59,48,39,46],[59,49,39,47],[60,8,40,6,"router"],[60,14,40,12],[60,15,40,13,"replace"],[60,22,40,20],[60,23,40,21],[60,37,40,35],[60,38,40,36],[61,6,41,4],[61,7,41,5],[61,16,41,14],[62,8,42,6,"setIsChecking"],[62,21,42,19],[62,22,42,20],[62,27,42,25],[62,28,42,26],[63,6,43,4],[64,4,44,2],[64,5,44,3],[65,4,46,2],[65,8,46,6,"isChecking"],[65,18,46,16],[65,20,46,18],[66,6,47,4],[66,26,48,6],[66,30,48,6,"_reactJsxDevRuntime"],[66,49,48,6],[66,50,48,6,"jsxDEV"],[66,56,48,6],[66,58,48,7,"View"],[66,62,48,11],[66,63,48,11,"default"],[66,70,48,11],[67,8,48,12,"style"],[67,13,48,17],[67,15,48,19,"styles"],[67,21,48,25],[67,22,48,26,"loadingContainer"],[67,38,48,43],[68,8,48,43,"children"],[68,16,48,43],[68,31,49,8],[68,35,49,8,"_reactJsxDevRuntime"],[68,54,49,8],[68,55,49,8,"jsxDEV"],[68,61,49,8],[68,63,49,9,"ActivityIndicator"],[68,80,49,26],[68,81,49,26,"default"],[68,88,49,26],[69,10,49,27,"size"],[69,14,49,31],[69,16,49,32],[69,23,49,39],[70,10,49,40,"color"],[70,15,49,45],[70,17,49,46],[71,8,49,55],[72,10,49,55,"fileName"],[72,18,49,55],[72,20,49,55,"_jsxFileName"],[72,32,49,55],[73,10,49,55,"lineNumber"],[73,20,49,55],[74,10,49,55,"columnNumber"],[74,22,49,55],[75,8,49,55],[75,15,49,57],[76,6,49,58],[77,8,49,58,"fileName"],[77,16,49,58],[77,18,49,58,"_jsxFileName"],[77,30,49,58],[78,8,49,58,"lineNumber"],[78,18,49,58],[79,8,49,58,"columnNumber"],[79,20,49,58],[80,6,49,58],[80,13,50,12],[80,14,50,13],[81,4,52,2],[82,4,54,2],[82,8,54,6],[82,9,54,7,"isAuthenticated"],[82,24,54,22],[82,26,54,24],[83,6,55,4],[83,13,55,11],[83,17,55,15],[84,4,56,2],[85,4,58,2],[85,24,59,4],[85,28,59,4,"_reactJsxDevRuntime"],[85,47,59,4],[85,48,59,4,"jsxDEV"],[85,54,59,4],[85,56,59,5,"_expoRouter"],[85,67,59,10],[85,68,59,10,"Stack"],[85,73,59,10],[86,6,60,6,"screenOptions"],[86,19,60,19],[86,21,60,21],[87,8,61,8,"headerShown"],[87,19,61,19],[87,21,61,21],[87,26,61,26],[88,8,62,8,"animation"],[88,17,62,17],[88,19,62,19],[89,6,63,6],[89,7,63,8],[90,6,63,8,"children"],[90,14,63,8],[90,30,65,6],[90,34,65,6,"_reactJsxDevRuntime"],[90,53,65,6],[90,54,65,6,"jsxDEV"],[90,60,65,6],[90,62,65,7,"_expoRouter"],[90,73,65,12],[90,74,65,12,"Stack"],[90,79,65,12],[90,80,65,13,"Screen"],[90,86,65,19],[91,8,65,20,"name"],[91,12,65,24],[91,14,65,25],[92,6,65,37],[93,8,65,37,"fileName"],[93,16,65,37],[93,18,65,37,"_jsxFileName"],[93,30,65,37],[94,8,65,37,"lineNumber"],[94,18,65,37],[95,8,65,37,"columnNumber"],[95,20,65,37],[96,6,65,37],[96,13,65,39],[96,14,65,40],[96,29,66,6],[96,33,66,6,"_reactJsxDevRuntime"],[96,52,66,6],[96,53,66,6,"jsxDEV"],[96,59,66,6],[96,61,66,7,"_expoRouter"],[96,72,66,12],[96,73,66,12,"Stack"],[96,78,66,12],[96,79,66,13,"Screen"],[96,85,66,19],[97,8,66,20,"name"],[97,12,66,24],[97,14,66,25],[98,6,66,35],[99,8,66,35,"fileName"],[99,16,66,35],[99,18,66,35,"_jsxFileName"],[99,30,66,35],[100,8,66,35,"lineNumber"],[100,18,66,35],[101,8,66,35,"columnNumber"],[101,20,66,35],[102,6,66,35],[102,13,66,37],[102,14,66,38],[102,29,67,6],[102,33,67,6,"_reactJsxDevRuntime"],[102,52,67,6],[102,53,67,6,"jsxDEV"],[102,59,67,6],[102,61,67,7,"_expoRouter"],[102,72,67,12],[102,73,67,12,"Stack"],[102,78,67,12],[102,79,67,13,"Screen"],[102,85,67,19],[103,8,67,20,"name"],[103,12,67,24],[103,14,67,25],[104,6,67,33],[105,8,67,33,"fileName"],[105,16,67,33],[105,18,67,33,"_jsxFileName"],[105,30,67,33],[106,8,67,33,"lineNumber"],[106,18,67,33],[107,8,67,33,"columnNumber"],[107,20,67,33],[108,6,67,33],[108,13,67,35],[108,14,67,36],[109,4,67,36],[110,6,67,36,"fileName"],[110,14,67,36],[110,16,67,36,"_jsxFileName"],[110,28,67,36],[111,6,67,36,"lineNumber"],[111,16,67,36],[112,6,67,36,"columnNumber"],[112,18,67,36],[113,4,67,36],[113,11,68,11],[113,12,68,12],[114,2,70,0],[115,2,72,0],[115,8,72,6,"styles"],[115,14,72,12],[115,17,72,15,"StyleSheet"],[115,27,72,25],[115,28,72,25,"default"],[115,35,72,25],[115,36,72,26,"create"],[115,42,72,32],[115,43,72,33],[116,4,73,2,"loadingContainer"],[116,20,73,18],[116,22,73,20],[117,6,74,4,"flex"],[117,10,74,8],[117,12,74,10],[117,13,74,11],[118,6,75,4,"justifyContent"],[118,20,75,18],[118,22,75,20],[118,30,75,28],[119,6,76,4,"alignItems"],[119,16,76,14],[119,18,76,16],[119,26,76,24],[120,6,77,4,"backgroundColor"],[120,21,77,19],[120,23,77,21],[121,4,78,2],[122,2,79,0],[122,3,79,1],[122,4,79,2],[123,0,79,3],[123,3]],"functionMap":{"names":["<global>","AdminLayout","useEffect$argument_0","checkAuth"],"mappings":"AAA;eCK;YCM;GDE;oBEE;GF4B;CD0B"},"hasCjsExports":false},"type":"js/module"}]}